---
import { getLapisUrl } from '../../config';
import { getLastUpdatedDate } from '../../lapis/getLastUpdatedDate';
import type { OrganismConstants } from '../../views/OrganismConstants';
import type { View } from '../../views/View';
import type { PageStateHandler } from '../../views/pageStateHandlers/PageStateHandler';

interface Props {
    view: View<object, OrganismConstants, PageStateHandler<object>>;
}

const { view } = Astro.props;

const lastUpdatedDate = await getLastUpdatedDate(getLapisUrl(view.organismConstants.organism));
---

<span class='flex justify-center p-2 text-xs'>Data last updated: {lastUpdatedDate ?? 'unknown'}</span>
