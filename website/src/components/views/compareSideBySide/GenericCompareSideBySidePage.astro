---
import { GenericCompareSideBySideReactPage } from './GenericCompareSideBySideReactPage';
import { isStaging, getDashboardsConfig } from '../../../config';
import BaseLayout from '../../../layouts/base/BaseLayout.astro';
import { type OrganismWithViewKey } from '../../../views/routing';
import { ServerSide } from '../../../views/serverSideRouting';
import { compareSideBySideViewKey } from '../../../views/viewKeys';

interface Props {
    organism: OrganismWithViewKey<typeof compareSideBySideViewKey>;
    hideMutationComponents?: boolean;
}

const { organism, hideMutationComponents } = Astro.props;

const view = ServerSide.routing.getOrganismView(`${organism}.${compareSideBySideViewKey}`);
const organismsConfig = getDashboardsConfig().dashboards.organisms;
---

<BaseLayout title={view.viewTitle}>
    <GenericCompareSideBySideReactPage
        organism={organism}
        hideMutationComponents={hideMutationComponents}
        organismsConfig={organismsConfig}
        isStaging={isStaging()}
        client:only='react'
    />
</BaseLayout>
