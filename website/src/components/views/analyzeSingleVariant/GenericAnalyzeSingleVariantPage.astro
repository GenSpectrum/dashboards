---
import { isStaging, getDashboardsConfig } from '../../../config';
import { type OrganismWithViewKey } from '../../../views/routing';
import { ServerSide } from '../../../views/serverSideRouting';
import { singleVariantViewKey } from '../../../views/viewKeys';
import BaseLayout from '../../../layouts/base/BaseLayout.astro';
import { GenericAnalyseSingleVariantReactPage } from './GenericAnalyseSingleVariantReactPage';
import { Organisms } from '../../../types/Organism';

interface Props {
    organism: Exclude<OrganismWithViewKey<typeof singleVariantViewKey>, typeof Organisms.covid>;
}

const { organism } = Astro.props;

const view = ServerSide.routing.getOrganismView(`${organism}.${singleVariantViewKey}`);
---

<BaseLayout title={view.viewTitle}>
    <GenericAnalyseSingleVariantReactPage
        organism={organism}
        organismsConfig={getDashboardsConfig().dashboards.organisms}
        isStaging={isStaging()}
        client:only='react'
    />
</BaseLayout>
