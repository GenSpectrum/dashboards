---
import type { LapisFilter, SequenceType } from '@genspectrum/dashboard-components/util';

import { defaultTablePageSize } from '../../views/View';
import ComponentWrapper from '../ComponentWrapper.astro';

interface Props {
    lapisFilter: LapisFilter;
    baselineLapisFilter?: LapisFilter;
    sequenceType: SequenceType;
    pageSize?: number;
    height?: string;
}

const { lapisFilter, baselineLapisFilter, sequenceType, pageSize, height } = Astro.props;
---

<ComponentWrapper
    title={sequenceType === 'nucleotide' ? 'Nucleotide mutations' : 'Amino acid mutations'}
    height={height}
>
    <gs-mutations
        lapisFilter={JSON.stringify(lapisFilter)}
        baselineLapisFilter={JSON.stringify(baselineLapisFilter)}
        sequenceType={sequenceType}
        views='["grid", "table", "insertions"]'
        pageSize={pageSize ?? defaultTablePageSize}
        width='100%'
        height={height ? '100%' : undefined}></gs-mutations>
</ComponentWrapper>
