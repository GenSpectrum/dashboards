---
import { type AggregateView, type LapisFilter } from '@genspectrum/dashboard-components/util';

import { defaultTablePageSize } from '../../views/View';
import ComponentWrapper from '../ComponentWrapper.astro';

interface Props {
    title: string;
    fields: string[];
    lapisFilter: LapisFilter;
    views: AggregateView[];
    height?: string;
    pageSize?: number;
}

const { title, height, fields, lapisFilter, views, pageSize } = Astro.props;
---

<ComponentWrapper title={title} height={height}>
    <gs-aggregate
        views={JSON.stringify(views)}
        fields={JSON.stringify(fields)}
        lapisFilter={JSON.stringify(lapisFilter)}
        pageSize={pageSize ?? defaultTablePageSize}
        width='100%'
        height={height ? '100%' : undefined}></gs-aggregate>
</ComponentWrapper>
