---
import type { TemporalGranularity, LapisFilter, SequenceType } from '@genspectrum/dashboard-components/util';

import ComponentWrapper from '../ComponentWrapper.astro';

interface Props {
    lapisFilter: LapisFilter;
    sequenceType: SequenceType;
    granularity: TemporalGranularity;
    lapisDateField: string;
    height?: string;
}

const { lapisFilter, sequenceType, granularity, lapisDateField, height } = Astro.props;
---

<ComponentWrapper
    title={sequenceType === 'nucleotide' ? 'Nucleotide mutations over time' : 'Amino acid mutations over time'}
    height={height}
>
    <gs-mutations-over-time
        width='100%'
        height={height ? '100%' : undefined}
        lapisFilter={JSON.stringify(lapisFilter)}
        sequenceType={sequenceType}
        views='["grid"]'
        granularity={granularity}
        lapisDateField={lapisDateField}></gs-mutations-over-time>
</ComponentWrapper>
